const translations = {
    en: {
      nav_features: "Features",
      nav_faq: "FAQ",
      nav_download: "Download",
      nav_about: "About",
      nav_menu: "Menu",
      hero_heading: "Gwenchana",
      hero_support: "Not just another Korean learning app ‚Äî AI tutor makes understanding easier and keeps you motivated to practice every day.",
      btn_appstore_pretitle: "Download on the",
      btn_appstore: "App Store",
      btn_googleplay_pretitle: "Get it on",
      btn_googleplay: "Google Play",
      features_title: "Why Gwenchana?",
      features_multi_title: "Multi-language Support",
      features_multi_desc: "Supports multiple languages with full localization.",
      features_auth_title: "Secure Authentication",
      features_auth_desc: "Log in with email, Google, or Facebook in seconds.",
      features_vocab_title: "Vocabulary Workouts",
      features_vocab_desc: "Interactive drills and flashcards keep new words fresh.",
      features_progress_title: "Progress Tracking",
      features_progress_desc: "Visualize your gains across every KIIP level.",
      features_ai_title: "AI Tutor",
      features_ai_desc: "Personalized explanations from an always-on AI coach.",
      features_offline_title: "Create Your Own Cards",
      features_offline_desc: "Add words, translations, and examples to study your way.",
      vocab_pill: "Interactive preview",
      vocab_title: "Go beyond pre-made cards",
      vocab_body: "Add your own words and phrases, build personalized collections like Favorites, and study whenever you want. Make learning flexible, fun, and 100% yours.",
      vocab_hint_show: "Tap to reveal translation",
      vocab_hint_hide: "Tap to hide translation",
      vocab_prev: "Previous word",
      vocab_next: "Next word",
      faq_title: "Frequently Asked Questions",
      faq_q1: "What is Gwenchana?",
      faq_a1: "Gwenchana is a Korean language learning app that combines vocabulary flashcards, grammar explanations, practice exercises, and an AI tutor. The AI tutor explains grammar in your preferred language, helps break down examples, and gives useful tips. The learning path is structured around the KIIP (ÏÇ¨ÌöåÌÜµÌï©) program levels, so you can progress step by step, prepare for exams, and feel more confident in everyday life in Korea. Study anytime, anywhere ‚Äî everything you need is always at your fingertips.",
      faq_q2: "Does it help with KIIP preparation?",
      faq_a2: "Yes. Gwenchana is built around the official ÏÇ¨ÌöåÌÜµÌï© (KIIP) curriculum. Lessons and vocabulary are aligned with the program levels, so you can follow a clear structure, practice effectively, and prepare for exams without extra stress. The app also helps you expand your personal vocabulary step by step, making it easier to understand lessons and pass tests.",
      faq_q3: "Which translation languages are supported?",
      faq_a3: "Currently available: üá∫üá∏ English, üá∑üá∫ Russian, üá∫üáø Uzbek, üáªüá≥ Vietnamese, üáπüá≠ Thai, üáÆüá© Indonesian, üá∫üá¶ Ukrainian, üá®üá≥ Chinese, üá™üá∏ Spanish, üáπüá∑ Turkish, and üáµüáπ Portuguese. More languages will be added in the future.",
      faq_q4: "Can I create my own vocabulary cards?",
      faq_a4: "Yes. Along with ready-made decks, you can easily create your own cards with words and phrases, organize them into custom sets (like Favorites ‚ù§Ô∏è), and review them anytime. This makes your learning more personalized, flexible, and effective.",
      faq_q5: "Who is Gwenchana for?",
      faq_a5: "Gwenchana is perfect for beginners taking their first steps in Korean, as well as intermediate learners. Its flexible structure lets you study at your own pace, no matter how busy your schedule is. Studying only once a week is rarely enough‚Äîif you want to pass the exam on the first try and save both time and ‚Ç©100,000, regular practice is key. You can even learn on the go, reviewing vocabulary during your commute. By repeating words from completed lessons, you‚Äôll steadily expand your vocabulary‚Äîand vocabulary is 50% of success in learning Korean.",
      download_title: "Learn anytime, anywhere",
      footer_tagline: "Learning Korean feels easier when someone‚Äôs cheering for you.",
      footer_nav_title: "Navigate",
      footer_nav_features: "Features",
      footer_nav_vocab: "Vocabulary demo",
      footer_nav_faq: "FAQ",
      footer_nav_download: "Get the app",
      footer_contact_title: "Contact",
      footer_contact_email: "hello@gwenchana.app",
      footer_contact_instagram: "Instagram",
      footer_contact_telegram: "Telegram",
      footer_legal_title: "Legal",
      footer_legal_privacy: "Privacy Policy",
      footer_legal_terms: "Terms of Use",
      footer_legal_imprint: "Imprint",
      footer_feedback: "Send feedback",
      
    },
    ru: {
      nav_features: "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
      nav_faq: "–í–æ–ø—Ä–æ—Å—ã",
      nav_download: "–°–∫–∞—á–∞—Ç—å",
      nav_about: "–û –Ω–∞—Å",
      nav_menu: "–ú–µ–Ω—é",
      hero_heading: "Gwenchana",
      hero_support: "–ù–µ –ø—Ä–æ—Å—Ç–æ –æ—á–µ—Ä–µ–¥–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ ‚Äî –ò–ò-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –ø–æ–Ω–∏–º–∞—Ç—å –∏ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
      btn_appstore_pretitle: "–°–∫–∞—á–∞—Ç—å –≤",
      btn_appstore: "App Store",
      btn_googleplay_pretitle: "–î–æ—Å—Ç—É–ø–Ω–æ –≤",
      btn_googleplay: "Google Play",
      features_title: "–ü–æ—á–µ–º—É Gwenchana?",
      features_multi_title: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–æ–≤",
      features_multi_desc: "–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–∞—Ö.",
      features_auth_title: "–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",
      features_auth_desc: "–í—Ö–æ–¥ –ø–æ email, Google –∏–ª–∏ Facebook –∑–∞ —Å–µ–∫—É–Ω–¥—ã.",
      features_vocab_title: "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–ª–æ–≤–∞—Ä—è",
      features_vocab_desc: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–∫—Ä–µ–ø–ª—è—é—Ç –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞.",
      features_progress_title: "–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞",
      features_progress_desc: "–ù–∞–≥–ª—è–¥–Ω–æ –≤–∏–¥–∏—Ç–µ —Ä–æ—Å—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ KIIP.",
      features_ai_title: "AI-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä",
      features_ai_desc: "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –æ—Ç –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –Ω–∞ –±–∞–∑–µ –ò–ò 24/7.",
      features_offline_title: "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –∫–∞—Ä—Ç–æ—á–∫–∏",
      features_offline_desc: "–î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–ª–æ–≤–∞, –ø–µ—Ä–µ–≤–æ–¥—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–¥ –≤–∞—à —Å—Ç–∏–ª—å –æ–±—É—á–µ–Ω–∏—è.",
      vocab_pill: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ–≤—å—é",
      vocab_title: "–í—ã—Ö–æ–¥–∏—Ç–µ –∑–∞ —Ä–∞–º–∫–∏ –≥–æ—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫",
      vocab_body: "–î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥–±–æ—Ä–∫–∏ –≤—Ä–æ–¥–µ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ¬ª –∏ –∑–∞–Ω–∏–º–∞–π—Ç–µ—Å—å, –∫–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ. –ü—É—Å—Ç—å –æ–±—É—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –≥–∏–±–∫–∏–º, —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –∏ –Ω–∞ 100% –≤–∞—à–∏–º.",
      vocab_hint_show: "–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥",
      vocab_hint_hide: "–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –ø–µ—Ä–µ–≤–æ–¥",
      vocab_prev: "–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–ª–æ–≤–æ",
      vocab_next: "–°–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ",
      vocab_progress: "–°–ª–æ–≤–æ",
      faq_title: "–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã",
      faq_q1: "–ß—Ç–æ —Ç–∞–∫–æ–µ Gwenchana?",
      faq_a1: "Gwenchana ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–µ —Å–ª–æ–≤–∞—Ä–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏ –ò–ò-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞. –ò–ò-—Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –æ–±—ä—è—Å–Ω—è–µ—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –Ω–∞ —É–¥–æ–±–Ω–æ–º –≤–∞–º —è–∑—ã–∫–µ, –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏ –¥–∞—ë—Ç –ø–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã. –£—á–µ–±–Ω—ã–π –ø—É—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤–æ–∫—Ä—É–≥ —É—Ä–æ–≤–Ω–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã KIIP (ÏÇ¨ÌöåÌÜµÌï©), –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å—Å—è —à–∞–≥ –∑–∞ —à–∞–≥–æ–º, –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º –∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–µ–µ –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏ –≤ –ö–æ—Ä–µ–µ. –£—á–∏—Ç–µ—Å—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –∏ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ ‚Äî –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –≤—Å–µ–≥–¥–∞ –ø–æ–¥ —Ä—É–∫–æ–π.",
      faq_q2: "–ü–æ–º–æ–∂–µ—Ç –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ KIIP?",
      faq_a2: "–î–∞. Gwenchana —Å–æ–∑–¥–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã ÏÇ¨ÌöåÌÜµÌï© (KIIP). –£—Ä–æ–∫–∏ –∏ —Å–ª–æ–≤–∞—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —É—Ä–æ–≤–Ω—è–º –∫—É—Ä—Å–∞, –ø–æ—ç—Ç–æ–º—É –≤—ã –∏–¥—ë—Ç–µ –ø–æ –ø–æ–Ω—è—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ—Å—å –∏ –≥–æ—Ç–æ–≤–∏—Ç–µ—Å—å –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç –≤–∞—à –ª–∏—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å, –ø–æ–º–æ–≥–∞—è –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å —É—Ä–æ–∫–∏ –∏ —É—Å–ø–µ—à–Ω–æ —Å–¥–∞–≤–∞—Ç—å —Ç–µ—Å—Ç—ã.",
      faq_q3: "–ö–∞–∫–∏–µ —è–∑—ã–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?",
      faq_a3: "–°–µ–π—á–∞—Å –¥–æ—Å—Ç—É–ø–Ω—ã üá∫üá∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, üá∑üá∫ —Ä—É—Å—Å–∫–∏–π, üá∫üáø —É–∑–±–µ–∫—Å–∫–∏–π, üáªüá≥ –≤—å–µ—Ç–Ω–∞–º—Å–∫–∏–π, üáπüá≠ —Ç–∞–π—Å–∫–∏–π, üáÆüá© –∏–Ω–¥–æ–Ω–µ–∑–∏–π—Å–∫–∏–π, üá∫üá¶ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, üá®üá≥ –∫–∏—Ç–∞–π—Å–∫–∏–π, üá™üá∏ –∏—Å–ø–∞–Ω—Å–∫–∏–π, üáπüá∑ —Ç—É—Ä–µ—Ü–∫–∏–π –∏ üáµüáπ –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π. –í –±—É–¥—É—â–µ–º —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è.",
      faq_q4: "–ú–æ–≥—É –ª–∏ —è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏?",
      faq_a4: "–î–∞. –ü–æ–º–∏–º–æ –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–ª–æ–¥ –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ —Å–ª–æ–≤–∞–º–∏ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ —Å–≤–æ–∏ –Ω–∞–±–æ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ò–∑–±—Ä–∞–Ω–Ω–æ–µ ‚ù§Ô∏è) –∏ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è. –¢–∞–∫ –æ–±—É—á–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –≥–∏–±–∫–∏–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º.",
      faq_q5: "–î–ª—è –∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç Gwenchana?",
      faq_a5: "Gwenchana –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –Ω–æ–≤–∏—á–∫–∞–º, –¥–µ–ª—é—â–∏–º –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏ –≤ –∫–æ—Ä–µ–π—Å–∫–æ–º, —Ç–∞–∫ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–º —Å—Ç—É–¥–µ–Ω—Ç–∞–º. –ì–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –≤ —É–¥–æ–±–Ω–æ–º —Ç–µ–º–ø–µ, –¥–∞–∂–µ –µ—Å–ª–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ. –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é ‚Äî —ç—Ç–æ –º–∞–ª–æ: —á—Ç–æ–±—ã —Å–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞ –∏ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –∏ –≤—Ä–µ–º—è, –∏ ‚Ç©100 000, –Ω—É–∂–Ω–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –£—á–∏—Ç—å—Å—è –º–æ–∂–Ω–æ –¥–∞–∂–µ –≤ –¥–æ—Ä–æ–≥–µ, –ø–æ–≤—Ç–æ—Ä—è—è –ª–µ–∫—Å–∏–∫—É –ø–æ –ø—É—Ç–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É. –ü–æ–≤—Ç–æ—Ä—è—è —Å–ª–æ–≤–∞ –∏–∑ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤, –≤—ã —É–≤–µ—Ä–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç–µ —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å ‚Äî –∞ —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å —ç—Ç–æ 50% —É—Å–ø–µ—Ö–∞ –ø—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ.",
      download_title: "–£—á–∏—Å—å –≥–¥–µ —É–≥–æ–¥–Ω–æ –∏ –∫–æ–≥–¥–∞ —É–≥–æ–¥–Ω–æ",
      footer_tagline: "–ò–∑—É—á–∞—Ç—å –∫–æ—Ä–µ–π—Å–∫–∏–π –ø—Ä–æ—â–µ, –∫–æ–≥–¥–∞ —Ä—è–¥–æ–º –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞.",
      footer_nav_title: "–ù–∞–≤–∏–≥–∞—Ü–∏—è",
      footer_nav_features: "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
      footer_nav_vocab: "–î–µ–º–æ —Å–ª–æ–≤–∞—Ä—è",
      footer_nav_faq: "FAQ",
      footer_nav_download: "–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ",
      footer_contact_title: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
      footer_contact_email: "hello@gwenchana.app",
      footer_contact_instagram: "Instagram",
      footer_contact_telegram: "Telegram",
      footer_legal_title: "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
      footer_legal_privacy: "–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏",
      footer_legal_terms: "–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è",
      footer_legal_imprint: "–†–µ–∫–≤–∏–∑–∏—Ç—ã",
      footer_feedback: "–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤",
      
    },
    ko: {
      nav_features: "Í∏∞Îä•",
      nav_faq: "ÏûêÏ£º Î¨ªÎäî ÏßàÎ¨∏",
      nav_download: "Îã§Ïö¥Î°úÎìú",
      nav_about: "ÏÜåÍ∞ú",
      nav_menu: "Î©îÎâ¥",
      hero_heading: "Gwenchana",
      hero_support: "Í∑∏Ï†Ä Í∑∏Îü∞ ÌïúÍµ≠Ïñ¥ ÌïôÏäµ Ïï±Ïù¥ ÏïÑÎãàÏóêÏöî ‚Äî AI ÌäúÌÑ∞Í∞Ä Ïù¥Ìï¥Î•º ÎèïÍ≥† Íæ∏Ï§ÄÌïú ÌïôÏäµÏùÑ ÏùëÏõêÌï¥Ïöî.",
      btn_appstore_pretitle: "App StoreÏóêÏÑú",
      btn_appstore: "Ïï±Ïä§ÌÜ†Ïñ¥",
      btn_googleplay_pretitle: "Google PlayÏóêÏÑú",
      btn_googleplay: "Íµ¨Í∏Ä ÌîåÎ†àÏù¥",
      features_title: "Ïôú Gwenchana?",
      features_multi_title: "Îã§Íµ≠Ïñ¥ ÏßÄÏõê",
      features_multi_desc: "Ïó¨Îü¨ Ïñ∏Ïñ¥Î°ú ÌòÑÏßÄÌôîÎêú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Ï†úÍ≥µÌï©ÎãàÎã§.",
      features_auth_title: "ÏïàÏ†ÑÌïú Î°úÍ∑∏Ïù∏",
      features_auth_desc: "Ïù¥Î©îÏùº, Google, FacebookÏúºÎ°ú Í∞ÑÌé∏ÌïòÍ≤å Î°úÍ∑∏Ïù∏ÌïòÏÑ∏Ïöî.",
      features_vocab_title: "Ïñ¥Ìúò Ìä∏Î†àÏù¥Îãù",
      features_vocab_desc: "ÏÉÅÌò∏ÏûëÏö© Ïó∞ÏäµÍ≥º ÌîåÎûòÏãúÏπ¥ÎìúÎ°ú ÏÉà Îã®Ïñ¥Î•º ÌÉÑÌÉÑÌûà.",
      features_progress_title: "ÏßÑÌñâ ÏÉÅÌô© Ï∂îÏ†Å",
      features_progress_desc: "KIIP Îã®Í≥ÑÎ≥Ñ ÏÑ±Ïû•ÏùÑ ÏãúÍ∞ÅÏ†ÅÏúºÎ°ú ÌôïÏù∏ÌïòÏÑ∏Ïöî.",
      features_ai_title: "AI ÌäúÌÑ∞",
      features_ai_desc: "Ïñ∏Ï†úÎì†ÏßÄ Í∞úÏù∏ÌôîÎêú ÏÑ§Î™ÖÏùÑ Ï†úÍ≥µÌïòÎäî AI ÏΩîÏπò.",
      features_offline_title: "ÏßÅÏ†ë ÎßåÎìúÎäî Îã®Ïñ¥ Ïπ¥Îìú",
      features_offline_desc: "Îã®Ïñ¥¬∑Î≤àÏó≠¬∑ÏòàÎ¨∏ÏùÑ Ï∂îÍ∞ÄÌï¥ ÎÇòÎßåÏùò ÌïôÏäµ ÏÑ∏Ìä∏Î•º ÎßåÎìúÏÑ∏Ïöî.",
      vocab_pill: "Ïù∏ÌÑ∞ÎûôÌã∞Î∏å ÌîÑÎ¶¨Î∑∞",
      vocab_title: "ÎØ∏Î¶¨ ÎßåÎì† Ïπ¥ÎìúÏóê Î®∏Î¨¥Î•¥ÏßÄ ÎßàÏÑ∏Ïöî",
      vocab_body: "ÏßÅÏ†ë Îã®Ïñ¥ÏôÄ ÌëúÌòÑÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† ‚ÄòÏ¶êÍ≤®Ï∞æÍ∏∞‚Äô Í∞ôÏùÄ ÎÇòÎßåÏùò Ïª¨Î†âÏÖòÏùÑ ÎßåÎì§Ïñ¥ Ïñ∏Ï†úÎì† ÌïôÏäµÌïòÏÑ∏Ïöî. Î∞∞Ïö∞Îäî Î∞©ÏãùÏù¥ ÎçîÏö± Ïú†Ïó∞ÌïòÍ≥† Ïû¨ÎØ∏ÏûàÏúºÎ©∞ 100% Ïó¨Îü¨Î∂ÑÎßåÏùò Í≤ÉÏù¥ Îê©ÎãàÎã§.",
      vocab_hint_show: "ÌÉ≠ÌïòÏó¨ Î≤àÏó≠ Î≥¥Í∏∞",
      vocab_hint_hide: "ÌÉ≠ÌïòÏó¨ Î≤àÏó≠ Ïà®Í∏∞Í∏∞",
      vocab_prev: "Ïù¥Ï†Ñ Îã®Ïñ¥",
      vocab_next: "Îã§Ïùå Îã®Ïñ¥",
      vocab_progress: "Îã®Ïñ¥",
      faq_title: "FAQ",
      faq_q1: "GwenchanaÎäî Ïñ¥Îñ§ ÏÑúÎπÑÏä§Ïù∏Í∞ÄÏöî?",
      faq_a1: "GwenchanaÎäî Ïñ¥Ìúò ÌîåÎûòÏãúÏπ¥Îìú, Î¨∏Î≤ï ÏÑ§Î™Ö, Ïó∞Ïäµ Î¨∏Ï†ú, AI ÌäúÌÑ∞Î•º Í≤∞Ìï©Ìïú ÌïúÍµ≠Ïñ¥ ÌïôÏäµ Ïï±ÏûÖÎãàÎã§. AI ÌäúÌÑ∞Í∞Ä ÏÑ†Ìò∏ÌïòÎäî Ïñ∏Ïñ¥Î°ú Î¨∏Î≤ïÏùÑ ÏÑ§Î™ÖÌïòÍ≥† ÏòàÎ¨∏ÏùÑ Îã®Í≥ÑÎ≥ÑÎ°ú Î∂ÑÏÑùÌïòÎ©∞ Ïú†Ïö©Ìïú ÌåÅÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. ÌïôÏäµ Í≤ΩÎ°úÎäî KIIP(ÏÇ¨ÌöåÌÜµÌï©) ÌîÑÎ°úÍ∑∏Îû® Î†àÎ≤®ÏùÑ Í∏∞Î∞òÏúºÎ°ú Íµ¨ÏÑ±ÎêòÏñ¥ ÏûàÏñ¥ Ìïú Îã®Í≥ÑÏî© ÏÑ±Ïû•ÌïòÍ≥† ÏãúÌóòÏùÑ Ï§ÄÎπÑÌïòÎ©∞ ÌïúÍµ≠ ÏÉùÌôúÏóêÏÑú Îçî ÌÅ∞ ÏûêÏã†Í∞êÏùÑ ÏñªÏùÑ Ïàò ÏûàÏäµÎãàÎã§. Ïñ∏Ï†ú Ïñ¥ÎîîÏÑúÎÇò ÌïôÏäµÌïòÏÑ∏Ïöî ‚Äî ÌïÑÏöîÌïú Î™®Îì† Í≤ÉÏù¥ Ïó¨Îü¨Î∂Ñ Í≥ÅÏóê ÏûàÏäµÎãàÎã§.",
      faq_q2: "KIIP Ï§ÄÎπÑÏóêÎèÑ ÎèÑÏõÄÏù¥ ÎêòÎÇòÏöî?",
      faq_a2: "ÎÑ§. GwenchanaÎäî Í≥µÏãù ÏÇ¨ÌöåÌÜµÌï©(KIIP) Ïª§Î¶¨ÌÅòÎüºÏùÑ Í∏∞Î∞òÏúºÎ°ú ÏÑ§Í≥ÑÎêòÏóàÏäµÎãàÎã§. Î†àÏä®Í≥º Ïñ¥ÌúòÍ∞Ä ÌîÑÎ°úÍ∑∏Îû® Î†àÎ≤®Ïóê ÎßûÏ∂∞ Íµ¨ÏÑ±ÎêòÏñ¥ ÏûàÏñ¥ Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú ÌïôÏäµÌïòÍ≥† ÏãúÌóòÏùÑ Î∂ÄÎã¥ ÏóÜÏù¥ Ï§ÄÎπÑÌï† Ïàò ÏûàÏäµÎãàÎã§. Ïï±ÏùÄ Í∞úÏù∏ Ïñ¥ÌúòÎèÑ Îã®Í≥ÑÏ†ÅÏúºÎ°ú ÌôïÏû•Ìï¥ Ï£ºÏñ¥ ÏàòÏóÖ Ïù¥Ìï¥ÏôÄ ÏãúÌóò Ìï©Í≤©ÏùÑ Îçî ÏâΩÍ≤å ÎßåÎì§Ïñ¥ Ï§çÎãàÎã§.",
      faq_q3: "ÏßÄÏõêÎêòÎäî Î≤àÏó≠ Ïñ∏Ïñ¥Îäî Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
      faq_a3: "ÌòÑÏû¨ üá∫üá∏ ÏòÅÏñ¥, üá∑üá∫ Îü¨ÏãúÏïÑÏñ¥, üá∫üáø Ïö∞Ï¶àÎ≤†ÌÅ¨Ïñ¥, üáªüá≥ Î≤†Ìä∏ÎÇ®Ïñ¥, üáπüá≠ ÌÉúÍµ≠Ïñ¥, üáÆüá© Ïù∏ÎèÑÎÑ§ÏãúÏïÑÏñ¥, üá∫üá¶ Ïö∞ÌÅ¨ÎùºÏù¥ÎÇòÏñ¥, üá®üá≥ Ï§ëÍµ≠Ïñ¥, üá™üá∏ Ïä§ÌéòÏù∏Ïñ¥, üáπüá∑ ÌÑ∞ÌÇ§Ïñ¥, üáµüáπ Ìè¨Î•¥Ìà¨Í∞àÏñ¥Î•º Ï†úÍ≥µÌïòÎ©∞ ÏïûÏúºÎ°ú Îçî ÎßéÏùÄ Ïñ∏Ïñ¥Í∞Ä Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§.",
      faq_q4: "ÏßÅÏ†ë Îã®Ïñ¥ Ïπ¥ÎìúÎ•º ÎßåÎì§ Ïàò ÏûàÎÇòÏöî?",
      faq_a4: "ÎÑ§. Ï§ÄÎπÑÎêú Îç±Í≥º Ìï®Íªò ÏõêÌïòÎäî Îã®Ïñ¥ÏôÄ ÌëúÌòÑÏúºÎ°ú ÎÇòÎßåÏùò Ïπ¥ÎìúÎ•º ÏâΩÍ≤å ÎßåÎì§Í≥†, Ï¶êÍ≤®Ï∞æÍ∏∞ Í∞ôÏùÄ Ïª§Ïä§ÌÖÄ ÏÑ∏Ìä∏Î°ú Ï†ïÎ¶¨Ìïú Îí§ Ïñ∏Ï†úÎì† Î≥µÏäµÌï† Ïàò ÏûàÏäµÎãàÎã§. Í∑∏ÎûòÏÑú ÌïôÏäµÏù¥ ÎçîÏö± Í∞úÏù∏ÌôîÎêòÍ≥† Ïú†Ïó∞ÌïòÎ©∞ Ìö®Í≥ºÏ†ÅÏûÖÎãàÎã§.",
      faq_q5: "GwenchanaÎäî Ïñ¥Îñ§ ÌïôÏäµÏûêÎ•º ÏúÑÌïú Ïï±Ïù∏Í∞ÄÏöî?",
      faq_a5: "GwenchanaÎäî ÌïúÍµ≠Ïñ¥Î•º Ï≤òÏùå ÏãúÏûëÌïòÎäî ÏôïÏ¥àÎ≥¥Î∂ÄÌÑ∞ Ï§ëÍ∏â ÌïôÏäµÏûêÍπåÏßÄ Î™®ÎëêÏóêÍ≤å Ï†ÅÌï©Ìï©ÎãàÎã§. Ïú†Ïó∞Ìïú Ïª§Î¶¨ÌÅòÎüºÏúºÎ°ú Î∞îÏÅú ÏùºÏ†ï ÏÜçÏóêÏÑúÎèÑ ÏõêÌïòÎäî ÏÜçÎèÑÎ°ú ÌïôÏäµÌï† Ïàò ÏûàÏñ¥Ïöî. Ï£º 1ÌöåÎßå Í≥µÎ∂ÄÌïòÎ©¥ Ï∂©Î∂ÑÌïòÏßÄ ÏïäÏ£†‚ÄîÏãúÌóòÏùÑ Ìïú Î≤àÏóê Ìï©Í≤©ÌïòÍ≥† ÏãúÍ∞ÑÍ≥º 10Îßå ÏõêÏùÑ ÏïÑÎÅºÎ†§Î©¥ Íæ∏Ï§ÄÌïú Ïó∞ÏäµÏù¥ ÌïµÏã¨ÏûÖÎãàÎã§. Ïù¥Îèô Ï§ëÏóêÎèÑ Îã®Ïñ¥Î•º Î≥µÏäµÌïòÎ©∞ ÌïôÏäµÌï† Ïàò ÏûàÍ≥†, ÏôÑÎ£åÌïú Î†àÏä®Ïùò Ïñ¥ÌúòÎ•º Î∞òÎ≥µÌïòÎ©¥ Ïñ¥ÌúòÎ†•Ïù¥ Ï∞®Í≥°Ï∞®Í≥° ÏåìÏûÖÎãàÎã§. Ïñ¥ÌúòÎ†•ÏùÄ ÌïúÍµ≠Ïñ¥ ÌïôÏäµ ÏÑ±Í≥µÏùò 50%Î•º Ï∞®ÏßÄÌïòÎãàÍπåÏöî.",
      download_title: "Ïñ∏Ï†ú Ïñ¥ÎîîÏÑúÎÇò ÌïôÏäµÌïòÏÑ∏Ïöî",
      footer_tagline: "ÏùëÏõêÌï¥ Ï£ºÎäî ÎèôÎ£åÍ∞Ä ÏûàÏúºÎ©¥ ÌïúÍµ≠Ïñ¥ ÌïôÏäµÎèÑ Îçî Ïâ¨ÏõåÏöî.",
      footer_nav_title: "Î∞îÎ°úÍ∞ÄÍ∏∞",
      footer_nav_features: "Í∏∞Îä•",
      footer_nav_vocab: "Ïñ¥Ìúò Îç∞Î™®",
      footer_nav_faq: "FAQ",
      footer_nav_download: "Ïï± Îã§Ïö¥Î°úÎìú",
      footer_contact_title: "Î¨∏Ïùò",
      footer_contact_email: "hello@gwenchana.app",
      footer_contact_instagram: "Ïù∏Ïä§ÌÉÄÍ∑∏Îû®",
      footer_contact_telegram: "ÌÖîÎ†àÍ∑∏Îû®",
      footer_legal_title: "Î≤ïÏ†Å Í≥†ÏßÄ",
      footer_legal_privacy: "Í∞úÏù∏Ï†ïÎ≥¥ Ï≤òÎ¶¨Î∞©Ïπ®",
      footer_legal_terms: "Ïù¥Ïö© ÏïΩÍ¥Ä",
      footer_legal_imprint: "ÌöåÏÇ¨ Ï†ïÎ≥¥",
      footer_feedback: "ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞",
      
    }
  };
  
  // Metadata for UI: labels and flags
  const languageMeta = {
    en: { label: 'EN', name: 'English', flag: 'üá∫üá∏' },
    ru: { label: 'RU', name: '–†—É—Å—Å–∫–∏–π', flag: 'üá∑üá∫' },
    ko: { label: 'KO', name: 'ÌïúÍµ≠Ïñ¥', flag: 'üá∞üá∑' },
  };

  let activeLang = 'en';

  const vocabDeck = [
    { word: 'ÏïàÎÖïÌïòÏÑ∏Ïöî', translations: { en: 'Hello', ru: '–ü—Ä–∏–≤–µ—Ç', ko: 'Hello' } },
    { word: 'Í∞êÏÇ¨Ìï©ÎãàÎã§', translations: { en: 'Thank you', ru: '–°–ø–∞—Å–∏–±–æ', ko: 'Thank you' } },
    { word: 'ÏÇ¨Îûë', translations: { en: 'Love', ru: '–õ—é–±–æ–≤—å', ko: 'Love' } },
    { word: 'ÌïôÍµê', translations: { en: 'School', ru: '–®–∫–æ–ª–∞', ko: 'School' } },
    { word: 'ÏùåÏãù', translations: { en: 'Food', ru: '–ï–¥–∞', ko: 'Food' } },
    { word: 'Í∞ÄÏ°±', translations: { en: 'Family', ru: '–°–µ–º—å—è', ko: 'Family' } },
    { word: 'Ï±Ö', translations: { en: 'Book', ru: '–ö–Ω–∏–≥–∞', ko: 'Book' } }
  ];

  const vocabState = { index: 0, revealed: false };
  const vocabEls = {};

  function getCopy(key, lang = activeLang) {
    return translations[lang]?.[key] ?? translations.en?.[key] ?? '';
  }

  function renderVocabCard() {
    if (!vocabEls.card) return;
    const entry = vocabDeck[vocabState.index];
    const lang = activeLang;
    const translated = entry.translations[lang] ?? entry.translations.en;

    if (vocabEls.word) {
      vocabEls.word.textContent = entry.word;
    }
    if (vocabEls.translation) {
      vocabEls.translation.textContent = translated;
      const displayLang = lang === 'ru' ? 'ru' : 'en';
      vocabEls.translation.setAttribute('lang', displayLang);
    }
    vocabEls.card.classList.toggle('is-flipped', vocabState.revealed);
    vocabEls.card.setAttribute('aria-pressed', vocabState.revealed ? 'true' : 'false');
    if (vocabEls.hint) {
      vocabEls.hint.textContent = getCopy(vocabState.revealed ? 'vocab_hint_hide' : 'vocab_hint_show');
    }
    if (vocabEls.current) {
      vocabEls.current.textContent = String(vocabState.index + 1);
    }
    if (vocabEls.total) {
      vocabEls.total.textContent = String(vocabDeck.length);
    }
    updateVocabControls();
  }

  function launchConfetti() {
    if (!vocabEls.confetti) return;
    const colors = ['#6366f1', '#22d3ee', '#fb7185', '#facc15', '#34d399'];
    const pieceCount = 24;
    for (let i = 0; i < pieceCount; i += 1) {
      const piece = document.createElement('span');
      piece.className = 'confetti-piece';
      piece.style.left = `${Math.random() * 100}%`;
      piece.style.setProperty('--cx', `${Math.random() * 180 - 90}px`);
      piece.style.backgroundColor = colors[i % colors.length];
      piece.style.animationDelay = `${Math.random() * 0.35}s`;
      vocabEls.confetti.appendChild(piece);
      setTimeout(() => piece.remove(), 1700);
    }
    spawnFireworks(colors);
  }

  function spawnFireworks(colors) {
    if (!vocabEls.confetti) return;
    const bursts = 4;
    for (let i = 0; i < bursts; i += 1) {
      const firework = document.createElement('span');
      firework.className = 'firework';
      firework.style.left = `${15 + Math.random() * 70}%`;
      firework.style.top = `${20 + Math.random() * 40}%`;
      firework.style.setProperty('--fire-color', colors[(i * 2) % colors.length]);
      firework.style.animationDelay = `${i * 0.1}s`;
      vocabEls.confetti.appendChild(firework);
      setTimeout(() => firework.remove(), 1500);
    }
  }

  function updateVocabControls() {
    if (vocabEls.prev) {
      vocabEls.prev.disabled = vocabState.index === 0;
    }
    if (vocabEls.next && !vocabEls.next.dataset.locked) {
      vocabEls.next.disabled = false;
    }
  }

  function cycleVocab(direction) {
    if (!vocabDeck.length || !direction) return;
    const lastIndex = vocabDeck.length - 1;

    if (direction > 0) {
      if (vocabState.index === lastIndex) {
        if (vocabEls.next) {
          vocabEls.next.disabled = true;
          vocabEls.next.dataset.locked = 'true';
        }
        launchConfetti();
        updateVocabControls();
        setTimeout(() => {
          if (vocabEls.next) {
            vocabEls.next.disabled = false;
            delete vocabEls.next.dataset.locked;
          }
          vocabState.index = 0;
          vocabState.revealed = false;
          renderVocabCard();
        }, 1200);
        return;
      }
      vocabState.index += 1;
    } else if (direction < 0) {
      if (vocabState.index === 0) {
        return;
      }
      vocabState.index -= 1;
      if (vocabEls.next) {
        vocabEls.next.disabled = false;
        delete vocabEls.next.dataset.locked;
      }
    }

    vocabState.revealed = false;
    renderVocabCard();
  }

  function toggleVocabCard() {
    vocabState.revealed = !vocabState.revealed;
    renderVocabCard();
  }

  function initVocabDemo() {
    const card = document.querySelector('.vocab-card');
    if (!card) return;

    vocabEls.card = card;
    vocabEls.word = card.querySelector('.vocab-word');
    vocabEls.translation = card.querySelector('.vocab-translation');
    vocabEls.hint = document.querySelector('.vocab-hint');
    vocabEls.prev = document.querySelector('.vocab-nav--prev');
    vocabEls.next = document.querySelector('.vocab-nav--next');
    vocabEls.current = document.querySelector('.vocab-progress__current');
    vocabEls.total = document.querySelector('.vocab-progress__total');
    vocabEls.confetti = document.querySelector('.confetti-layer');

    if (vocabEls.total) vocabEls.total.textContent = String(vocabDeck.length);

    card.addEventListener('click', toggleVocabCard);

    vocabEls.prev?.addEventListener('click', () => cycleVocab(-1));
    vocabEls.next?.addEventListener('click', () => cycleVocab(1));

    const handleKey = (event) => {
      if (event.key === 'ArrowRight') {
        event.preventDefault();
        cycleVocab(1);
      } else if (event.key === 'ArrowLeft') {
        event.preventDefault();
        cycleVocab(-1);
      } else if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault();
        toggleVocabCard();
      }
    };

    card.addEventListener('keydown', handleKey);

    renderVocabCard();
  }

  function updateLangToggleUI(lang) {
    const meta = languageMeta[lang] || languageMeta.en;
    const toggle = document.getElementById('langToggle');
    if (!toggle) return;
    const flagEl = toggle.querySelector('.flag');
    const labelEl = toggle.querySelector('.label');
    if (flagEl) flagEl.textContent = meta.flag;
    if (labelEl) labelEl.textContent = meta.label;

    // Update options selected state
    document.querySelectorAll('.lang-option').forEach(btn => {
      const isSelected = btn.getAttribute('data-lang') === lang;
      const li = btn.closest('li');
      if (li) li.setAttribute('aria-selected', String(isSelected));
      btn.setAttribute('aria-selected', String(isSelected));
    });
  }

  function setLanguage(lang) {
    activeLang = lang;
    document.querySelectorAll("[data-i18n]").forEach(el => {
      const key = el.getAttribute("data-i18n");
      const value = translations[lang]?.[key] ?? translations.en?.[key];
      if (typeof value === 'string') {
        el.textContent = value;
      }
    });
    localStorage.setItem("lang", lang); // save choice
    // reflect in UI
    updateLangToggleUI(lang);
    // update html lang attribute
    document.documentElement.setAttribute('lang', lang);
    renderVocabCard();
  }
  
  // On load: initialize language and dropdown behavior
  document.addEventListener("DOMContentLoaded", () => {
    const savedLang = localStorage.getItem("lang") || "en";
    setLanguage(savedLang);
    initVocabDemo();

    const dropdown = document.getElementById('langDropdown');
    const toggle = document.getElementById('langToggle');
    const menu = document.getElementById('langMenu');
    const header = document.getElementById('appBar');
    const primaryNav = document.getElementById('primaryNav');
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');

    if (toggle && dropdown && menu) {
      const openMenu = () => {
        dropdown.classList.add('open');
        toggle.setAttribute('aria-expanded', 'true');
        // focus first selected or first item
        const selected = menu.querySelector('.lang-option[aria-selected="true"]');
        (selected || menu.querySelector('.lang-option'))?.focus?.();
      };
      const closeMenu = () => {
        dropdown.classList.remove('open');
        toggle.setAttribute('aria-expanded', 'false');
      };

      toggle.addEventListener('click', (e) => {
        e.stopPropagation();
        const isOpen = dropdown.classList.contains('open');
        if (isOpen) closeMenu(); else openMenu();
      });

      // Option click
      menu.querySelectorAll('.lang-option').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const lang = btn.getAttribute('data-lang');
          if (lang) setLanguage(lang);
          closeMenu();
        });
      });

      // Click outside closes
      document.addEventListener('click', (e) => {
        if (!dropdown.contains(e.target)) {
          closeMenu();
        }
      });

      // Keyboard interactions
      toggle.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openMenu();
        }
      });
      menu.addEventListener('keydown', (e) => {
        const options = Array.from(menu.querySelectorAll('.lang-option'));
        const idx = options.indexOf(document.activeElement);
        if (e.key === 'Escape') { closeMenu(); toggle.focus(); }
        else if (e.key === 'ArrowDown') {
          e.preventDefault();
          const next = options[Math.min(options.length - 1, idx + 1)] || options[0];
          next.focus();
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          const prev = options[Math.max(0, idx - 1)] || options[options.length - 1];
          prev.focus();
        } else if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          const activeBtn = document.activeElement;
          if (activeBtn && activeBtn.classList.contains('lang-option')) {
            const lang = activeBtn.getAttribute('data-lang');
            if (lang) setLanguage(lang);
            closeMenu();
            toggle.focus();
          }
        }
      });
    }

    if (header) {
      const updateHeaderState = () => {
        const shouldElevate = window.scrollY > 12;
        header.classList.toggle('is-scrolled', shouldElevate);
      };

      updateHeaderState();
      window.addEventListener('scroll', updateHeaderState, { passive: true });
    }

    if (primaryNav && menuToggle && navLinks) {
      const openNavMenu = () => {
        navLinks.classList.add('is-open');
        menuToggle.classList.add('is-open');
        menuToggle.setAttribute('aria-expanded', 'true');
      };

      const closeNavMenu = () => {
        navLinks.classList.remove('is-open');
        menuToggle.classList.remove('is-open');
        menuToggle.setAttribute('aria-expanded', 'false');
      };

      menuToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        const isOpen = menuToggle.getAttribute('aria-expanded') === 'true';
        if (isOpen) closeNavMenu(); else openNavMenu();
      });

      navLinks.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => closeNavMenu());
      });

      document.addEventListener('click', (event) => {
        if (!primaryNav.contains(event.target)) {
          closeNavMenu();
        }
      });

      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
          closeNavMenu();
        }
      });

      primaryNav.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeNavMenu();
          menuToggle.focus();
        }
      });
    }

  });
  
